%---------------Real_world---------------
p1=[0,0,1]';
p2=[0,50,1]';
p3=[50,50,1]';
p4=[50,0,1]';
%---------------a---------------
a1=[401,288,1]';
a2=[606,375,1]';
a3=[422,576,1]';
a4=[205,382,1]';
%---------------b---------------
b1=[401,288,1]';
b2=[206,382,1]';
b3=[127,60,1]';
b4=[401,57,1]';
%---------------c---------------
c1=[401,288,1]';
c2=[401,57,1]';
c3=[686,60,1]';
c4=[605,375,1]';
%----------------test------------
% w1=[0,0,1]';
% w2=[0,1,1]';
% w3=[1,1,1]';
% w4=[1,0,1]';
% 
% t1A=[152,149,1]';
% t2A=[218,413,1]';
% t3A=[490,332,1]';
% t4A=[482,77,1]';
% 
% t1B=[596,84,1]';
% t2B=[596,334,1]';
% t3B=[838,458,1]';
% t4B=[898,195,1]';
% 
% t1C=[490,387,1]';
% t2C=[343,602,1]';
% t3C=[689,722,1]';
% t4C=[780,465,1]';
%----------------find_K_RT_Matrix------------

[K,RT_11,RT_22,RT_33] = find_K_RT_Matrix(p1,p2,p3,p4,a1,a2,a3,a4,b1,b2,b3,b4,c1,c2,c3,c4);
%----------------find_projection_Matrix------------

X1=[50,0,0,1]';
X2=[0,50,0,1]';
X3=[50,0,50,1]';
X4=[0,50,50,1]';
X5=[0,0,50,1]';
X6=[50,50,0,1]';

uv1=[206,382,1]';
uv2=[606,375,1]';
uv3=[128,60,1]';
uv4=[686,60,1]';
uv5=[401,57,1]';
uv6=[422,577,1]';

P = find_projection_M(X1,X2,X3,X4,X5,X6,uv1,uv2,uv3,uv4,uv5,uv6);
%----------------find_RT------------
RT = inv(K)*P;
s = sqrt(RT(1,1)^2+RT(2,1)^2+RT(3,1)^2);
RT = RT./s
RT = [[RT(:,1)',0]',[RT(:,2)',0]',[RT(:,3)',0]',[RT(:,4)',1]'];
RT = inv(RT)


